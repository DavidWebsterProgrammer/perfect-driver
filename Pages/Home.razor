@page "/"

<PageTitle>PerfectDriver - Driving Course Lessons</PageTitle>

<div class="hero-section">
    <div class="hero-content">
        <div class="hero-text">
            <h1 class="hero-title">
                <span class="gradient-text">PerfectDriver</span>
            </h1>
            <p class="hero-subtitle">Master the Road with Confidence</p>
        </div>
    </div>
</div>

<div class="container-fluid course-container">
    <div class="row">
        <div class="col-12">
            @foreach (var lesson in courseData)
            {
                @if (lesson.IsSectionHeading)
                {
                    <div class="section-heading mt-4">
                        <h2 class="section-title">@lesson.ModuleNumber. @lesson.Name</h2>
                    </div>
                }
                else
                {
                    <div class="lesson-item">
                        <a href="@lesson.Url" class="lesson-card" target="_blank">
                            <div class="lesson-content">
                                <div class="lesson-text">
                                    <h3 class="lesson-title"><strong>@lesson.ModuleNumber.@lesson.LessonNumber</strong> @lesson.Name</h3>
                                </div>
                                <div class="lesson-arrow">
                                    <i class="bi bi-arrow-right"></i>
                                </div>
                            </div>
                            <div class="lesson-hover-effect"></div>
                        </a>
                    </div>
                }
            }
        </div>
    </div>
</div>

@code {
    public class LessonItem
    {
        public string Name { get; set; } = "";
        public string Url { get; set; } = "";
        public bool IsSectionHeading { get; set; }
        public int ModuleNumber { get; set; }
        public int LessonNumber { get; set; }
    }

    private string GetSectionIcon(string sectionName)
    {
        return sectionName switch
        {
            "Introduction" => "play-circle",
            "Intermediate" => "gear-wide-connected",
            "Signs and Hazards" => "exclamation-triangle",
            "Advanced" => "trophy",
            "Parking Your Car" => "parking",
            "Getting Around" => "compass",
            "Emergencies" => "exclamation-octagon",
            "Practise Exams" => "clipboard-check",
            "Traffic Scenarios Exams" => "diagram-3",
            "Exams" => "award",
            "Road Rules and Penalties" => "book",
            _ => "bookmark"
        };
    }

    private void ProcessCourseData()
    {
        int moduleNumber = 0;
        int lessonNumber = 0;

        foreach (var lesson in courseData)
        {
            if (lesson.IsSectionHeading)
            {
                moduleNumber++;
                lesson.ModuleNumber = moduleNumber;
                lessonNumber = 0; // Reset lesson counter for new module
            }
            else
            {
                lessonNumber++;
                lesson.ModuleNumber = moduleNumber;
                lesson.LessonNumber = lessonNumber;
            }
        }
    }

    private List<LessonItem> courseData = new List<LessonItem>
    {
        new LessonItem { Name = "Introduction", IsSectionHeading = true },
        new LessonItem { Name = "Perfect Driver", Url = "perfectdriver/index.html" },
        new LessonItem { Name = "Your Licence", Url = "yourlicence/index.html" },
        new LessonItem { Name = "Licence Demerit Points and Fines", Url = "licencedemeritpointsandfines/index.html" },
        new LessonItem { Name = "Young Drivers", Url = "youngdrivers/index.html" },
        new LessonItem { Name = "The Car", Url = "thecar/index.html" },
        new LessonItem { Name = "Manual Versus Automatic", Url = "manualversusautomatic/index.html" },
        new LessonItem { Name = "Fuel Variants", Url = "fuelvariants/index.html" },
        new LessonItem { Name = "The Dashboard", Url = "thedashboard/index.html" },
        new LessonItem { Name = "Seatbelts, Airbags and Safety Features", Url = "seatbeltsairbagsandsafetyfeatures/index.html" },
        new LessonItem { Name = "Indicators", Url = "indicators/index.html" },
        new LessonItem { Name = "Using Your Horn", Url = "usingyourhorn/index.html" },
        new LessonItem { Name = "Using Your Lights", Url = "usingyourlights/index.html" },
        new LessonItem { Name = "Windscreen Wipers", Url = "windscreenwipers/index.html" },
        new LessonItem { Name = "Statistics", Url = "statistics/index.html" },
        new LessonItem { Name = "Getting Ready to Drive", Url = "gettingreadytodrive/index.html" },
        new LessonItem { Name = "Your Rights", Url = "yourrights/index.html" },
        new LessonItem { Name = "Intermediate", IsSectionHeading = true },
        new LessonItem { Name = "Patience", Url = "patience/index.html" },
        new LessonItem { Name = "The Three Second Rule", Url = "thethreesecondrule/index.html" },
        new LessonItem { Name = "Speed Limits", Url = "speedlimits/index.html" },
        new LessonItem { Name = "Stopping Distance", Url = "stoppingdistance/index.html" },
        new LessonItem { Name = "Reversing", Url = "reversing/index.html" },
        new LessonItem { Name = "Lane Markers", Url = "lanemarkers/index.html" },
        new LessonItem { Name = "Making Turns", Url = "makingturns/index.html" },
        new LessonItem { Name = "Give Way", Url = "giveway/index.html" },
        new LessonItem { Name = "Stop Signs", Url = "stopsigns/index.html" },
        new LessonItem { Name = "Traffic Lights", Url = "trafficlights/index.html" },
        new LessonItem { Name = "Intersections", Url = "intersections/index.html" },
        new LessonItem { Name = "Merging and Changing Lanes", Url = "mergingandchanginglanes/index.html" },
        new LessonItem { Name = "Pedestrians and Pedestrian Crossings", Url = "pedestriansandpedestriancrossings/index.html" },
        new LessonItem { Name = "Buses, Bicycles and Trains", Url = "busesbicyclesandtrains/index.html" },
        new LessonItem { Name = "Miscellaneous Traffic Laws", Url = "miscellaneoustrafficlaws/index.html" },
        new LessonItem { Name = "Defensive Driving and Driving Tips", Url = "defensivedrivinganddrivingtips/index.html" },
        new LessonItem { Name = "Emergency Vehicles", Url = "emergencyvehicles/index.html" },
        new LessonItem { Name = "Signs and Hazards", IsSectionHeading = true },
        new LessonItem { Name = "Driving Distractions", Url = "drivingdistractions/index.html" },
        new LessonItem { Name = "Driver Fatigue", Url = "driverfatigue/index.html" },
        new LessonItem { Name = "Drugs and Alcohol", Url = "drugsandalcohol/index.html" },
        new LessonItem { Name = "Highways, Freeways and Tollways", Url = "highwaysfreewaysandtollways/index.html" },
        new LessonItem { Name = "Warnings and Hazards", Url = "warningsandhazards/index.html" },
        new LessonItem { Name = "Wet Weather Driving", Url = "wetweatherdriving/index.html" },
        new LessonItem { Name = "You Are Going the Wrong Way", Url = "youaregoingthewrongway/index.html" },
        new LessonItem { Name = "Advanced", IsSectionHeading = true },
        new LessonItem { Name = "Roundabouts", Url = "roundabouts/index.html" },
        new LessonItem { Name = "Transit Lanes", Url = "transitlanes/index.html" },
        new LessonItem { Name = "Three Point Turns", Url = "threepointturns/index.html" },
        new LessonItem { Name = "U-Turns", Url = "uturns/index.html" },
        new LessonItem { Name = "Overtaking", Url = "overtaking/index.html" },
        new LessonItem { Name = "Traffic Calming Devices", Url = "trafficcalmingdevices/index.html" },
        new LessonItem { Name = "Common Accidents", Url = "commonaccidents/index.html" },
        new LessonItem { Name = "Accidents and Breakdowns", Url = "accidentsandbreakdowns/index.html" },
        new LessonItem { Name = "Towing, Trailers and Caravans", Url = "towingtrailersandcaravans/index.html" },
        new LessonItem { Name = "Parking Your Car", IsSectionHeading = true },
        new LessonItem { Name = "Parking", Url = "parking/index.html" },
        new LessonItem { Name = "Parallel Parking", Url = "parallelparking/index.html" },
        new LessonItem { Name = "Getting Around", IsSectionHeading = true },
        new LessonItem { Name = "Satellite Navigation", Url = "satellitenavigation/index.html" },
        new LessonItem { Name = "Street Signs and Numbers", Url = "streetsignsandnumbers/index.html" },
        new LessonItem { Name = "Simple Car Maintenance", Url = "simplecarmaintenance/index.html" },
        new LessonItem { Name = "Saving Fuel", Url = "savingfuel/index.html" },
        new LessonItem { Name = "Emergencies", IsSectionHeading = true },
        new LessonItem { Name = "What are You Going to Do?", Url = "whatareyougoingtodo/index.html" },
        new LessonItem { Name = "Practise Exams", IsSectionHeading = true },
        new LessonItem { Name = "General Exam #1", Url = "generalexam1/index.html" },
        new LessonItem { Name = "General Exam #2", Url = "generalexam2/index.html" },
        new LessonItem { Name = "General Exam #3", Url = "generalexam3/index.html" },
        new LessonItem { Name = "General Exam #4", Url = "generalexam4/index.html" },
        new LessonItem { Name = "Traffic Scenarios Exams", IsSectionHeading = true },
        new LessonItem { Name = "Traffic Scenarios Exam 1", Url = "trafficscenariosexam1/index.html" },
        new LessonItem { Name = "Traffic Scenarios Exam 2", Url = "trafficscenariosexam2/index.html" },
        new LessonItem { Name = "Traffic Scenarios Exam 3", Url = "trafficscenariosexam3/index.html" },
        new LessonItem { Name = "Exams", IsSectionHeading = true },
        new LessonItem { Name = "Accidents Exam", Url = "accidentsexam/index.html" },
        new LessonItem { Name = "Dashboard Exam", Url = "dashboardexam/index.html" },
        new LessonItem { Name = "Defensive Driving Exam", Url = "defensivedrivingexam/index.html" },
        new LessonItem { Name = "Drugs and Alcohol Exam", Url = "drugsandalcoholexam/index.html" },
        new LessonItem { Name = "Give Way Exam", Url = "givewayexam/index.html" },
        new LessonItem { Name = "Lane Markers Exam", Url = "lanemarkersexam/index.html" },
        new LessonItem { Name = "Miscellaneous Exam #1", Url = "miscellaneousexam1/index.html" },
        new LessonItem { Name = "Miscellaneous Exam #2", Url = "miscellaneousexam2/index.html" },
        new LessonItem { Name = "Overtaking Exam", Url = "overtakingexam/index.html" },
        new LessonItem { Name = "Parking Exam", Url = "parkingexam/index.html" },
        new LessonItem { Name = "Pedestrians Exam", Url = "pedestriansexam/index.html" },
        new LessonItem { Name = "Reversing Exam", Url = "reversingexam/index.html" },
        new LessonItem { Name = "Road Signs Exam", Url = "roadsignsexam/index.html" },
        new LessonItem { Name = "Road Signs Exam #2", Url = "roadsignsexam2/index.html" },
        new LessonItem { Name = "Roundabouts Exam", Url = "roundaboutsexam/index.html" },
        new LessonItem { Name = "Seatbelts and Airbags Exam", Url = "seatbeltsandairbagsexam/index.html" },
        new LessonItem { Name = "Speed Signs Exam", Url = "speedsignsexam/index.html" },
        new LessonItem { Name = "Stop Sign Exam", Url = "stopsignexam/index.html" },
        new LessonItem { Name = "Stopping Distance Exam", Url = "stoppingdistanceexam/index.html" },
        new LessonItem { Name = "Traffic Lights Exam", Url = "trafficlightsexam/index.html" },
        new LessonItem { Name = "Transit Lane Exam", Url = "transitlaneexam/index.html" },
        new LessonItem { Name = "Warnings and Hazards Exam", Url = "warningsandhazardsexam/index.html" },
        new LessonItem { Name = "What Are They Doing Wrong?", Url = "whataretheydoingwrong/index.html" },
        new LessonItem { Name = "What is Wrong with This Picture?", Url = "whatiswrongwiththispicture/index.html" },
        new LessonItem { Name = "Your Licence, Demerit Points, and Fines Exam", Url = "yourlicencedemeritpointsandfinesexam/index.html" },
        new LessonItem { Name = "Road Rules and Penalties", IsSectionHeading = true },
        new LessonItem { Name = "Road Rules", Url = "roadrules/index.html" }
    };

    protected override void OnInitialized()
    {
        ProcessCourseData();
    }
}